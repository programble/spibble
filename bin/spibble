#!/usr/bin/env ruby

require 'spibble'

spibble = Spibble::Application.new

if ARGV.empty?
  spibble.list
elsif ARGV[0].start_with? ?-
  case ARGV.shift
  when '-a', '--add'
    spibble.add
  when '-i', '--import'
    spibble.import(ARGV)
  end
else
  spibble.scrobble(ARGV.join(' '))
end
